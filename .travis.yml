language: node_js
node_js:
  - "10.15"
os:
  - linux
  - osx
before_install:
  - npm install -g npm@latest
install:
  - if [[ "$TRAVIS_OS_NAME" != "osx" ]]; then sudo apt-get install fakeroot; fi
  - if [[ "$TRAVIS_OS_NAME" != "osx" ]]; then sudo apt-get install rpm; fi
  - npm install -g gulp-cli
  - npm install @angular/cli -g
  - pushd ./src/SfxWeb; npm install
script:
  - cd ./src/SfxWeb
  - ng build --prod
  - cd ..
  - cd ..
  - gulp -f ./src/Sfx/gulpfile.js clean-build
  - gulp -f ./src/Sfx-Standalone/gulpfile.js publish
