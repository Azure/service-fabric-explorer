<form name="createBackupPolicyForm">
        <div class="modal-header">
            <h4 class="modal-title">Create Backup Policy</h4>
        </div>
        <div class="modal-body">
            <dl class="dl-horizontal">
                <dt>Name</dt>
                <dd>
                    <input type="text" class="input-flat" [(ngModel)]="backupPolicy.Name" required aria-label="Backup Policy name" name="name">
                </dd>
                <dt>AutoRestoreOnDataLoss</dt>
                <dd class="checkbox-container-default">
                    <input type="checkbox" [(ngModel)]="backupPolicy.AutoRestoreOnDataLoss" name="AutoRestoreOnDataLoss"/>
                </dd>
                <dt>MaxIncrementalBackups</dt>
                <dd>
                    <input type="number" class="input-flat" [(ngModel)]="backupPolicy.MaxIncrementalBackups" required name="MaxIncrementalBackups"/>
                </dd>
                <dt>ScheduleKind</dt>
                <dd required>
                    <label>
                        <input type="radio" [(ngModel)]="backupPolicy.Schedule.ScheduleKind" value="FrequencyBased" name="FrequencyBased">
                        FrequencyBased
                    </label>
                    <label>
                        <input type="radio" [(ngModel)]="backupPolicy.Schedule.ScheduleKind" value="TimeBased" name="TimeBased">
                        TimeBased
                    </label><br />
                </dd>
            </dl>
            <dl class="dl-horizontal" *ngIf="!(!backupPolicy.Schedule.ScheduleKind || backupPolicy.Schedule.ScheduleKind!=='FrequencyBased')">
                <dt>Interval</dt>
                <dd>
                    <input type="text" class="input-flat" [(ngModel)]="backupPolicy.Schedule.Interval" name="Interval"/>
                </dd>
            </dl>
            <dl class="dl-horizontal" *ngIf="!(!backupPolicy.Schedule.ScheduleKind ||  backupPolicy.Schedule.ScheduleKind!=='TimeBased')">
                <dt>ScheduleFrequencyType</dt>
                <dd>
                    <label>
                        <input type="radio" [(ngModel)]="backupPolicy.Schedule.ScheduleFrequencyType" value="Daily" name="Daily">
                        Daily
                    </label>
                    <label>
                        <input type="radio" [(ngModel)]="backupPolicy.Schedule.ScheduleFrequencyType" value="Weekly" name="weekly">
                        Weekly
                    </label><br />
                </dd>
            </dl>
            <dl class="dl-horizontal" *ngIf="! (!backupPolicy.Schedule.ScheduleKind || backupPolicy.Schedule.ScheduleKind!=='TimeBased' || backupPolicy.Schedule.ScheduleFrequencyType!=='Weekly')">
                <dt>RunDays</dt>
                <dd>
                    <div *ngFor="let temp of weekDay">
                        <label>
                            {{temp}}
                            <input type="checkbox" [(ngModel)]="daySelectedMapping[temp]" [name]="weekDay">
                        </label><br />
                    </div>
                </dd>
            </dl>

            <dl class="dl-horizontal" *ngIf="! (!backupPolicy.Schedule.ScheduleKind || backupPolicy.Schedule.ScheduleKind!=='TimeBased' || !backupPolicy.Schedule.ScheduleFrequencyType)">
                <dt>RunTimes</dt>
                <dd>
                    <div *ngFor="let runTime of backupPolicy.Schedule.RunDays; ">
                        <input type="text" style="width: 80%;" class="input-flat" [(ngModel)]="backupPolicy.Schedule.RunTimes[index]" [name]="index"/>
                        <button type="button" class="btn btn-default" (click)="deleteDate(index)" >Delete</button>
                    </div>
                    <div>
                        <input type="text" style="width: 80%;" class="input-flat" [(ngModel)]="date" name="date" />
                        <button type="button" class="btn btn-default" (click)="add()" [disabled]="date===''">Add</button>
                    </div>
                </dd>
            </dl>
            <dl class="dl-horizontal">
                <dt>StorageKind</dt>
                <dd>
                    <label>
                        <input type="radio" [(ngModel)]="backupPolicy.Storage.StorageKind" value="AzureBlobStore" name="AzureBlobStore">
                        AzureBlobStore
                    </label>
                    <label>
                        <input type="radio" [(ngModel)]="backupPolicy.Storage.StorageKind" value="FileShare" name="FileShare">
                        FileShare
                    </label><br />
                </dd>
            </dl>
            <dl class="dl-horizontal collapse" *ngIf="!(!backupPolicy.Storage.StorageKind || backupPolicy.Storage.StorageKind!=='AzureBlobStore')">
                <dt>FriendlyName</dt>
                <dd>
                    <input type="text" class="input-flat" [(ngModel)]="backupPolicy.Storage.FriendlyName" name="FriendlyName">
                </dd>
                <dt>ConnectionString</dt>
                <dd>
                    <input type="text" class="input-flat" [(ngModel)]="backupPolicy.Storage.ConnectionString" name="ConnectionString">
                </dd>
                <dt>ContainerName</dt>
                <dd>
                    <input type="text" class="input-flat" [(ngModel)]="backupPolicy.Storage.ContainerName" name="ContainerName">
                </dd>
            </dl>
            <dl class="dl-horizontal collapse" *ngIf="!( !backupPolicy.Storage.StorageKind || backupPolicy.Storage.StorageKind!=='FileShare')">
                <dt>FriendlyName</dt>
                <dd>
                    <input type="text" class="input-flat" [(ngModel)]="backupPolicy.Storage.FriendlyName" name="FriendlyName">
                </dd>
                <dt>Path</dt>
                <dd>
                    <input type="text" class="input-flat" [(ngModel)]="backupPolicy.Storage.Path" name="Path">
                </dd>
                <dt>PrimaryUserName</dt>
                <dd>
                    <input type="text" class="input-flat" [(ngModel)]="backupPolicy.Storage.PrimaryUserName" name="PrimaryUserName">
                </dd>
                <dt>PrimaryPassword</dt>
                <dd>
                    <input type="password" class="input-flat" [(ngModel)]="backupPolicy.Storage.PrimaryPassword" name="PrimaryPassword">
                </dd>
                <dt>SecondaryUserName</dt>
                <dd>
                    <input type="text" class="input-flat" [(ngModel)]="backupPolicy.Storage.SecondaryUserName" name="SecondaryUserName">
                </dd>
                <dt>SecondaryPassword</dt>
                <dd>
                    <input type="password" class="input-flat" [(ngModel)]="backupPolicy.Storage.SecondaryPassword" name="SecondaryPassword">
                </dd>
            </dl>
            <dl class="dl-horizontal">
                <dt>RetentionPolicy</dt>
                <dd class="checkbox-container-default">
                    <input type="checkbox" [(ngModel)]="retentionPolicyRequired" name="retentionPolicyRequired" />
                </dd>
            </dl>
            <dl class="dl-horizontal collapse" *ngIf="retentionPolicyRequired">
                <dt>MinNumberOfBackups</dt>
                <dd>
                    <input type="number" class="input-flat" [(ngModel)]="RetentionPolicy.MinimumNumberOfBackups" name="MinimumNumberOfBackups">
                </dd>
                <dt>RetentionDuration</dt>
                <dd>
                    <input type="text" class="input-flat" [(ngModel)]="RetentionPolicy.RetentionDuration" name="RetentionDuration">
                </dd>
            </dl>
        </div>
        <div class="modal-footer">
            <!-- TODO handle all of the validation somewhere -->
            <button type="submit" class="btn btn-primary" [disabled]="false" (click)="saveBackupPolicy()">{{isUpdateOperation ? 'Update backup policy' : 'Create backup policy'}}</button>
            <button type="button" class="btn btn-default" (click)="cancel()">Cancel</button>
        </div>
    </form>