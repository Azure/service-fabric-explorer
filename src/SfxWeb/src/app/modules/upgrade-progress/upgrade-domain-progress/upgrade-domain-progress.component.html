<div *ngFor="let node of upgradeDomain.NodeUpgradeProgressList;trackBy: nodeTrackBy" style="border: 1px solid gray;">
    <app-collapse-container collapsed="true">
        <div collapse-header>
            <div style="font-size: 15px; margin-bottom: 5px;">
                {{node.NodeName}} - {{node.UpgradePhase}}
    
                <div style="float: right">
                    Safety Checks : {{node.PendingSafetyChecks.length}}
                </div>
            </div>
        </div>
        <div collapse-body class="table-responsive">
            <table class="table detail-list" style="width: 100%">
                <thead>
                <tr>
                    <th>
                        Partition Id
                    </th>
                    <th>
                        Phase
                    </th>
                    <th></th>
                </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let check of node.PendingSafetyChecks;trackBy: safetyCheck">
                        <td>
                            {{check.SafetyCheck?.PartitionId}}
                        </td>
                
                        <td>
                            {{check.SafetyCheck.Kind}}
                        </td>
                
                        <td>
                            <div *ngIf="partitions[check.SafetyCheck.PartitionId]; else elseBlock">
                                <app-partition-info [partitionInfo]="partitions[check.SafetyCheck.PartitionId]"></app-partition-info>
                            </div>
    
                            <ng-template #elseBlock>
                                <button (click)="getPartitionInfo(check.SafetyCheck.PartitionId)" class="simple-button" *ngIf="check.SafetyCheck.PartitionId">
                                    Get Info
                                </button>
                            </ng-template>
                        </td>
                    </tr>
                </tbody>        
            </table>
        </div>
    </app-collapse-container>
</div>